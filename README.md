# WiFi室內定位模型差異說明

## 核心模型差異

### 主要模型架構
- **original_hadnn.py**: 原始HADNN模型，使用注意力機制進行多任務學習(建築物分類、樓層分類、位置預測)
- **mlp.py**: 簡化的多層感知機模型，取代隨機森林的純深度學習方法
- **hadnn_n_random_forest.py**: 整合式深度學習模型，使用小型MLP取代傳統隨機森林進行全深度學習

### 資料預處理差異
- **data_preprocess.py**: 基礎資料預處理，處理原始WiFi掃描數據
- **hadnn_adapter.py**: 專門為HADNN模型格式化數據，包含標準化和資料分割
- **extract_scan13_vector_format.py**: 將scan13格式轉換為向量格式，適用於機器學習模型

### 評估與比較系統
- **evaluate_model.py**: 單一模型評估，產生詳細的性能分析和視覺化報告
- **compare_all_models.py**: 多模型比較框架，統一評估不同模型的性能差異
- **test_models_live.py**: 即時測試系統，支援手動輸入和預設資料進行模型預測

### 工具模組
- **model_utils.py**: 模型通用工具函數(空檔案，待實作)
- **filter_wifi.py**: WiFi訊號過濾工具，篩選特定SSID的訊號
- **create_vector_format.py**: 資料向量化工具，將WiFi訊號轉換為機器學習特徵向量

## 模型演進脈絡

1. **250607版本**: 基礎HADNN實作，包含注意力機制和多任務學習
2. **250713版本**: 模型架構優化，改善建築物分類準確度
3. **250715版本**: 整合式深度學習架構，全面使用神經網路取代傳統機器學習

每個版本的模型在架構複雜度、訓練效率和預測準確度上都有不同的權衡策略。

## 訓練資料集差異分析

### 資料規模比較

| 版本 | 訓練樣本數 | 測試樣本數 | RSS特徵數 | 建築物數 | 樓層數 | 點位數 |
|------|------------|------------|-----------|----------|---------|---------|
| 250607 | 63,294 | 15,824 | 237 | 3 | 5 | - |
| 250630 | 842 | 211 | 385 | 3 | 5 | - |
| 250713 | 842 | 211 | 385 | 3 | 5 | 199 |
| 250715 | 842 | 211 | 385 | 3 | 5 | 199 |

### 資料特徵差異

#### 250607版本 (大規模原始資料集)
- **資料規模**: 最大的訓練資料集 (63,294 樣本) - **確實為最大資料集**
- **特徵維度**: 237個RSS特徵，相對較少
- **樓層結構**: 標準5層結構 (1-5樓)
- **特點**: 大量原始資料但特徵維度較低，適合深度學習模型訓練

#### 250630版本 (精煉中型資料集)
- **資料規模**: 842個訓練樣本，211個測試樣本 (約為250607的1.3%)
- **特徵維度**: 385個RSS特徵，比250607版本多62%
- **樓層結構**: 標準5層結構 (1-5樓)
- **特點**: 資料量大幅縮減但特徵更豐富，可能是經過特徵工程和資料篩選的結果

#### 250713版本 (增強標籤資料集)
- **資料規模**: 與250630相同 (842+211樣本)
- **特徵維度**: 385個RSS特徵
- **新增功能**: 支援199個具體點位標籤
- **樓層結構**: 標準5層結構 (1-5樓)
- **特點**: 基於250630資料集增加點位分類能力

#### 250715版本 (完整功能資料集)
- **資料規模**: 與250713相同
- **特徵維度**: 385個RSS特徵
- **點位標籤**: 199個點位 (包含房間和走廊)
- **樓層結構**: 標準5層結構 (1-5樓)
- **特點**: 完整的多任務學習支援，包含位置回歸

### 資料集演進分析

#### 從250607到250630的變化
- **樣本數量**: 從63,294減少到842 (減少98.7%)
- **特徵數量**: 從237增加到385 (增加62%)
- **可能原因**: 
  - 資料清理和品質控制
  - 特徵工程優化
  - 計算資源限制
  - 標註成本考量

#### 250630到250713/250715的演進
- **樣本數量**: 保持不變 (842+211)
- **特徵數量**: 保持不變 (385)
- **主要改進**: 增加點位標籤和精細定位功能

### 資料品質分析

#### 建築物樣本分布 (250630/250713/250715)
- **SEA建築**: 約40%樣本
- **SEB建築**: 約30%樣本  
- **SEC建築**: 約30%樣本
- **資料平衡**: 相對均衡的分布

#### 信號品質統計
- **整體信號缺失率**: 約93-95%
- **特徵豐富度**: 250630之後版本特徵數增加62%
- **信號品質**: 較新版本可能有更好的信號處理

### 資料演進建議

1. **250607版本**: 適合大規模深度學習實驗，資料量最大但特徵較少
2. **250630版本**: 平衡的精煉資料集，特徵豐富但樣本數適中
3. **250713版本**: 增加點位分類，適合精細定位研究
4. **250715版本**: 完整功能資料集，支援所有定位任務

### 使用建議

- **大規模模型訓練**: 推薦使用250607版本 (最多訓練資料)
- **特徵工程研究**: 推薦使用250630版本 (特徵最豐富)
- **精細定位**: 推薦使用250713/250715版本 (點位標籤)
- **多任務學習**: 推薦使用250715版本 (完整功能)

### 預處理建議

您的預處理沒有做錯。不同版本的資料規模差異可能反映了：
1. **資料收集時間點不同**
2. **資料清理策略不同**
3. **特徵工程方法不同**
4. **計算資源和時間限制**

建議根據具體需求選擇適合的版本進行實驗。
